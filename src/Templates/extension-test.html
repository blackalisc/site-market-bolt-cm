{% extends "layout.html" %}

{% block splash %}

    <h2>Extension Test Status</h2>

{% endblock %}

{% block content %}

    <div class="row">
        <div class="large-8 columns">
        <h3>{{ buildStatus(build) }} Test Summary for: {{build.package.name}} <small>({{ build.version }})</small></h3>
        
        <ol>
            {% for url, test in build.testResult %}
                <li>
                    <div data-alert class="radius alert-box {% if test.status =='OK' %}success{%else%}alert{%endif%}">
                        <strong>Test:</strong> {{ test.title }}<br>
                        <strong>Status:</strong> {{ test.status }}
                    </div>
                </li>
            {% endfor %}
        </ol>
        </div>
        <div class="large-4 columns">
            <div class="panel">
                {% if build.status == 'waiting' %}
                    <p>It is now being processed and will shortly be available. Please wait...</p>
                    <script type="text/javascript">
                    window.setTimeout(function(){location.reload()},1000);
                    </script>
                {% elseif build.status == 'complete' %}
                    <p>Test your extension here: <a href="{{ build.url }}/bolt/">{{ build.url }}</a></p>
                    <p>
                        When requested login as:<br>
                        <strong>Username:</strong> 'admin'<br>
                        <strong>Password:</strong> 'password'
                    </p>
                {% endif %}
            </div>
        </div>
    </div>


{% endblock %}
