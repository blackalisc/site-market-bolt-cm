{% extends "layout.html" %}

{% block header_splash %}
<div class="image_homepage">
    <h1 class="ui center aligned center floated store_title">Bolt.cm Extensions Store</h1>
    <img width="100%" src="/images/splash.jpg">
</div>
{% endblock %}

{% block content %}

<div class="module_big_search">

    <h2 class="ui left floated header">Search</h2>
    <div class="ui clearing divider"></div>

    <form  class="ui action fluid input" name="searchform" onsubmit="return qsearch();">
        <input type="text" id="txtSearchbar" placeholder="Search...">
        <select class="ui compact selection dropdown">
            <option value="all">All</option>
            <option value="articles">Plugins</option>
            <option value="products">Themes</option>
        </select>
       <!-- <div type="submit" class="ui button teal">Search</div> -->
    </form>

    <script type="text/javascript">
        function qsearch() {window.location = '/browse?q=' + document.getElementById('txtSearchbar').value; return false;}
    </script>

</div>

<br>

<div class="module_recents_plugin">

    <h2 class="ui left floated header">Most Downloaded Plugins</h2>
    <div class="ui clearing divider"></div>

    <div class="ui six column grid doubling">

        {% for package in downloaded %}
        <div class="column">
            <div class="ui fluid card">
                <a class="image" href="{{url('view',{'package':package.id})}}">
                    <img src="/images/{{ package.type }}">
                </a>
                <div class="content">
                    <a class="header" href="{{url('view',{'package':package.id})}}">{{package.title}}</a>
                    <div class="meta">
                        <a>{{package.name}}</a>

                    </div>
                </div>
            </div>
        </div>

        {% endfor %}

    </div>

</div>

<br>

<div class="module_recents_themes">

    <h2 class="ui left floated header">Recently Added Themes</h2>
    <div class="ui clearing divider"></div>

    <div class="ui three column grid stackable">

        {% for package in latest_themes %}
        <div class="column">
            <div class="ui fluid card">
                <a class="image" href="{{url('view',{'package':package.id})}}">
                    {% if package.screenshots %}
                    <img style="height: 150px;" src="{{package.source|replace({ ('github.com'): 'raw.githubusercontent.com'})}}/master/{{ package.screenshots[0] }}">
                    {% else %}
                    <img style="height: 150px;" src="https://placehold.it/350x150?text=No screenshot">
                    {% endif %}
                </a>
                <div class="content">
                    <a class="header" href="{{url('view',{'package':package.id})}}">{{package.title}}</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

</div>

<br>

<div class="module_categories_plugins">

    <h2 class="ui left floated header">Plugins Categories</h2>
    <div class="ui clearing divider"></div>

    <a class="ui tag large label" href="/list.html">Social Networks</a>
    <a class="ui red tag large label">Forms</a>
    <a class="ui teal tag large label">Media</a>
    <a class="ui green tag large label">SEO</a>

</div>


{% endblock %}